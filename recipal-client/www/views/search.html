<ion-view view-title="Recipe Search">
<ion-content>
<div class="search-page"><br>
    <h1>Recipe Search</h1>

    <div ng-controller="SearchCtrl as searchCtrl">
        <form ng-submit="searchCtrl.search()">
            <div class="list list-inset">
                <label class="item item-input">
                    <i class="icon ion-search placeholder-icon"></i>
                    <input type="text" placeholder="Search" ng-model="searchCtrl.searchInput"></input>
                </label>
                <div ng-switch="searching.value">
                <button ng-switch-when="true" class="button button-block button-dark" value="disable" >Please wait...</button>
                <button ng-switch-default class="button button-block button-energized" type="submit">Search</button>
                </div>
        </div>
        </form>
        <!-- Dynamic search results -->
        <div class='row' ng-hide="searchResults.length == 0">
            <div class='col'></div>
            <div class='col-33'>Recipe</div>
            <div class='col' ng-click='searchCtrl.sortRating()'>Rating</div>
            <div class='col' ng-click='searchCtrl.sortDifficulty()'>Difficulty</div>
            <div class='col'>Select</div>
        </div>
        <div ng-repeat="result in searchResults">
            <div class='row row-center'>
                <div class='col'>
                    <button ng-class="{'button button-icon icon ion-ios-heart': result.isFavorite, 'button button-icon icon ion-ios-heart-outline': !result.isFavorite }" ng-click='searchCtrl.onFavoriteToggle(result)'></button>
                </div>
                <div class='col-33'>{{result.name}}</div>
                <div class='col'>{{result.rating.rating}}</div>
                <div class='col'>{{result.difficulty}}</div>
                <div class='col'><button ng-click='searchCtrl.onRecipeSelect(result)'>Select</button></div>
            </div>
        </div>
    </div>
</div>
</ion-content>
</ion-view>